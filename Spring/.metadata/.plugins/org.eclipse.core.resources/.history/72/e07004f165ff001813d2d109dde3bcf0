package com.jp.fbcs.controllers;

import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

import com.jp.fbcs.entities.Complaint;
import com.jp.fbcs.exception.ComplaintException;
import com.jp.fbcs.services.ComplaintServiceImpl;


public class FrontController {

	@Autowired
	@Qualifier("complaintservice")
	private ComplaintServiceImpl complaintService;

	@RequestMapping("homePage.hr")
	public String getHomePage() {
		System.out.println("In Home Page");
		return "HomePage";
	}
	
	@ModelAttribute("complaintCategory")
	   public List<String> getComplaintCategoryList() {
	      List<String> categoryList = new ArrayList<String>();
	      categoryList.add("Internet Banking");
	      categoryList.add("General Banking");
	      categoryList.add("Others");
	      return categoryList;
	   }
	
	@ModelAttribute("priority")
	   public List<String> getPriority() {
	      List<String> priorityList = new ArrayList<String>();
	      categoryList.add("Internet Banking");
	      categoryList.add("General Banking");
	      categoryList.add("Others");
	      return categoryList;
	   }

	@RequestMapping("newComplaintForm.hr") 
	public String getComplaintForm(Model model) {
		Complaint complaint = new Complaint();
		model.addAttribute("complaint", complaint);
		return "ComplaintPage";
	}

	/*@RequestMapping("newComplaint.hr")
	public ModelAndView raiseNewComplaint() {
		ModelAndView mAndV = new ModelAndView();
		try {
			Complaint complaint = complaintService.raiseNewComplaint(complaint);
			mAndV.addObject("newComplaint", complaint);

			mAndV.setViewName("RaiseComplaint");

		} catch (ComplaintException e) {
			e.printStackTrace();
		}
		return mAndV;
	}*/

}
