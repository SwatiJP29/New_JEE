package com.java;


import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

/*1. Creation of an application context 
 * 2. The ClassPathXMLApplicationContext referes to config file which is relative to a path on ClassPath.
 * 3. Beans are being created eagerly means at the beginning only by default.
 * 4. Beans are being created as Singleton. by default
 * To create objects lazily use 'lazy-init' attribute in context.xml
 * 
 */

public class TestSpringFactory {

	public static void main(String[] args) {
		
		//Create Spring Context. Here the objects of the classes mentioned in the context.xml is created
		ApplicationContext ctx = new ClassPathXmlApplicationContext("com/java/context.xml"); //This is the path of the configuration file
		
		
		System.out.println("Context Created");
		MyApplDao dao1 = (MyApplDao) ctx.getBean("dao");
		System.out.println(dao1.hashCode());
		
		
		MyApplDao dao2 = (MyApplDao) ctx.getBean("dao");
		System.out.println(dao2.hashCode());
		
		MyApplServices service = (MyApplServices) ctx.getBean("service");
		System.out.println(service.hashCode());
	}

}
